---
import { Icon } from "astro-icon/components";
import TechnologyBadge from "./TechnologyBadge.astro";

interface Props {
    title: string;
    summary: string;
    tags: string[];

    detailsLink?: string;
    githubLink?: string;
    onlineLink?: string;
}

const { title, summary, tags, detailsLink, githubLink, onlineLink } =
    Astro.props;
---

<article>
    <h3>{title}</h3>

    <p>{summary}</p>

    <div>
        {detailsLink && <a href={detailsLink}>
            <Icon name="tabler:info-circle"/>
            Detalles
        </a>}

        {githubLink && <a href={githubLink}>
            <Icon name="tabler:brand-github"/>
            GitHub
        </a>}

        {onlineLink && <a href={onlineLink}>
            <Icon name="tabler:link"/>
            En l√≠nea
        </a>}
    </div>

    <div>
        {tags.map(tag => (
            <TechnologyBadge code={tag} />
        ))}
    </div>
</article>

<style lang="scss">
    @use "../../styles/variables" as *;

    h3, p, div, a {
        margin: 0;
    }

    article {
        display: flex;
        flex-direction: column;
        justify-content: start;
        gap: 0.75rem;

        padding: 1.5rem;
        border-radius: 10px;

        background-color: #fcfcfc;
        border: 1px solid #ccd6e0;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.05), inset 0 1px 0 #fff;

        h3 {
            color: $accent;
            text-shadow: 1px 1px 0 #fff;
            margin-bottom: 0.25rem;
            border-bottom: 1px solid #eee;
            padding-bottom: 0.25rem;
        }
    }

    a {
        display: inline-flex;
        align-items: center;
        gap: 0.5rem;
        color: white;
        text-decoration: none;
        background: $accent;
        padding: 0.4rem 0.8rem;
        border-radius: 6px;
        font-size: 0.9rem;
        font-weight: bold;
        border: 1px solid $accentDark;
        box-shadow: 0 1px 3px rgba(0,0,0,0.2), inset 0 1px 0 rgba(255,255,255,0.3);
        text-shadow: 0 -1px 0 rgba(0,0,0,0.3);

        &:hover {
            filter: brightness(1.1);
            transform: translateY(-1px);
        }

        &:active {
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.3);
            transform: translateY(0);
        }
    }

    div *:not(:last-child) {
        margin-inline-end: 0.5rem;
    }

    div:nth-last-child(1) {
        margin-block-start: 0.5rem;;
    }
</style>
